I"»T<h2 id="ì‹œì‘">ì‹œì‘</h2>
<p>flutterì™€ swiftuië¥¼ ê³µë¶€í•˜ë©´ì„œ androidì—ì„œë„ componentê¸°ë°˜ìœ¼ë¡œ ì•±ì„ ì‘ì„±í•˜ëŠ” jetpack compose androidê°€ ì¶œì‹œí•œë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì—ˆë‹¤.</p>

<p>ì‚¬ìš©ë²•ì´ êµ‰ì¥íˆ ë¹„ìŠ·í•˜ë‹¤ê³  ìƒê°í•´ì„œ, ì–¸ì  ê°„ ê³µë¶€í•´ì•¼ì§€ í•˜ê³  ë®ì–´ë’€ì§€ë§Œ ì´ì œ ì–´ëŠì •ë„ ì•ˆì •ì„±ë„ ë³´ì¥ëœë‹¤ê³  í•˜ë‹ˆ ì‹œì‘í•´ë³´ë ¤í•œë‹¤.</p>

<p>ë‘ì„¸ê°œ ì •ë„ì˜ toy projectë¥¼ ì§„í–‰í•´ë³´ì•˜ê³ , ì´ì œ ì‹¤ì œë¡œ ì„œë¹„ìŠ¤ì— í•„ìš”í•œ ê¸°ìˆ ë“¤ì´ ë†ì¶•ë˜ì–´ìˆëŠ” toy projectë¥¼ ë§Œë“¤ì–´ ì˜¬ë ¤ë³´ë ¤ê³  í•œë‹¤.</p>

<p>ê·¸ëŸ¼ ì‹œì‘!!</p>

<h2 id="sync-gradle-sync">sync gradle sync</h2>
<p>ì´ë¶€ë¶„ì´ ì¢€ ë‚˜ëŠ” ê°€ì¥ ì–´ë ¤ìš´ê²ƒ ê°™ë‹¤. ì‚¬ëŒë“¤ì´ ì˜¬ë ¤ë†“ì€ ë²„ì „ì´ë‘ ë‚´ê°€ ì§€ê¸ˆ í‚¨ ë²„ì „ì´ë‘ ë‹¤ë¥´ë©´ ì¢€ ë‹¤ë¥¸ ë¶€ë¶„ë“¤ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì¼ë‹¨ì€ ì´ˆê¸° ì„¸íŒ… í•´ì¤„ ê²ƒë“¤ì´ ì¢€ ë§ì•„ì„œ ì´ë¯¸ì§€ë¡œ ì˜¬ë¦°ë‹¤.</p>

<p><img src="/img/android_JetTrivia#1/1.png" /></p>

<p>ì—¬ëŸ¬ê°€ì§€ ì„¤ì¹˜í•´ì¤˜ì•¼ í•˜ëŠ” ë‚´ìš©ë“¤ì´ ì¢€ ìˆë‹¤. ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ë¡œ ë‘˜ëŸ¬ìŒ“ì¸ ë¶€ë¶„ì´ ë‚´ê°€ ë”°ë¡œ ì‘ì„±í•œ ë¶€ë¶„ì´ê³ , ë‚˜ë¨¸ì§€ëŠ” ê¸°ë³¸ gradleíŒŒì¼ ê·¸ëŒ€ë¡œì´ë‹¤. íŒŒì¼ì„ ì‘ì„±í•˜ê³  ë‚˜ë©´ ìƒë‹¨ì— sync ë²„íŠ¼ì´ ë‚˜ì˜¤ê³  ê·¸ ë²„íŠ¼ í´ë¦­ì„ í†µí•´ì„œ dependenciesë“¤ì„ syncí•´ì£¼ë©´ ëœë‹¤.</p>

<h3 id="kotlin-class-from-json">Kotlin class from JSON</h3>
<p>ì´ê±°ëŠ” ê¿€íŒì¸ë° ìš°ë¦¬ê°€ json í˜•íƒœë¡œ ë˜ì–´ìˆëŠ” íŒŒì¼ì„ ë¶„ì„í•´ì„œ classë¡œ ë§Œë“¤ê¸° ê·€ì°®ë‹¤ë©´ pluginì„ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•˜ë©´ í•œë²ˆì— ë§Œë“¤ì–´ì£¼ëŠ” pluginì´ë‹¤. ìš°ë¦¬ê°€ ì£¼ê³ ë°›ì•„ì•¼í•˜ëŠ” ë°ì´í„° í˜•ì‹ì— ë§ì¶° íŒŒì¼ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.</p>

<h2 id="retrofit-ì‚¬ìš©">Retrofit ì‚¬ìš©</h2>
<p>A type-safe HTTP client for Android and Java.</p>

<p>HTTP í†µì‹ ì„ ì‰½ê³  ë¹ ë¥´ê²Œ í•´ì¤„ ìˆ˜ ìˆëŠ” libraryì´ë‹¤. ì˜ˆì „ì— Javaë¡œ androidë¥¼ ê³µë¶€í–ˆì„ ë•Œë„, ì´ libraryë¥¼ ì‚¬ìš©í–ˆë˜ ê²½í—˜ì´ ìˆë‹¤.</p>

<p>ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” gradleì— dependenciesë¥¼ ì ì–´ì¤˜ì•¼í•œë‹¤. ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ê³  syncí•´ì£¼ì.</p>
<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Retrofit</span>
<span class="n">implementation</span> <span class="s1">'com.squareup.retrofit2:retrofit:2.9.0'</span>
<span class="c1">// GSON converter</span>
<span class="n">implementation</span> <span class="s1">'com.squareup.retrofit2:converter-gson:2.9.0'</span>
</code></pre></div></div>

<h2 id="hiltapplication-íŒŒì¼-ìƒì„±">HiltApplication íŒŒì¼ ìƒì„±</h2>
<p>í´ë”íŠ¸ë¦¬ì˜ ìµœìƒìœ„ êµ¬ì¡°ì— @HiltApplication annotationì„ ë‹¨ íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@HiltAndroidApp</span>
<span class="kd">class</span> <span class="nc">TriviaApplication</span><span class="p">:</span> <span class="nc">Application</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p>AndroidManifest íŒŒì¼ì— android:name ì ì–´ì£¼ê¸° =&gt; android:name=â€.TriviaApplicationâ€</p>

<p>ì¦‰ ë°©ê¸ˆ ë§Œë“  íŒŒì¼ì´ ì•±ì˜ ì‹œì‘ì ì´ ëœë‹¤ëŠ” ì˜ë¯¸ì¸ ê²ƒ ê°™ë‹¤. ì´ê²ƒì€ ë‚˜ì˜ ìƒê°ì´ë¯€ë¡œ ì •ë‹µì€ì•„ë‹ˆë‹¤.</p>

<h2 id="di-packageì•ˆì—-appmodule-íŒŒì¼-ìƒì„±">di packageì•ˆì— AppModule íŒŒì¼ ìƒì„±</h2>
<p>nestjsì—ì„œì˜ module íŒŒì¼ê³¼ ì—­í• ì´ ê°™ì€ ê²ƒ ê°™ë‹¤. ì—¬ê¸°íŒŒì¼ì—ì„œ ëª¨ë“  providerë¥¼ ë”í•´ì£¼ê²Œ ëœë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Module</span>
<span class="nd">@InstallIn</span><span class="p">(</span><span class="nc">SingletonComponent</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
<span class="kd">object</span> <span class="nc">AppModule</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<h2 id="util-í´ë”ì—-constants-íŒŒì¼-ìƒì„±">util í´ë”ì— Constants íŒŒì¼ ìƒì„±</h2>
<p>base urlì„ ì„¤ì •í•´ì£¼ê³  í›„ì— retrofitìœ¼ë¡œ ì¸í„°ë„· ì—°ê²°ì„ í•  ë•Œ base urlì„ ì—¬ê¸°ì„œ êº¼ë‚´ì“¸ ìš”ëŸ‰</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">object</span> <span class="nc">Constants</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kd">val</span> <span class="py">BASE_URL</span> <span class="p">=</span> <span class="s">"https://raw.githubusercontent.com/itmmckernan/triviaJSON/master/"</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="network-í´ë”ì—-questionapi-íŒŒì¼-ìƒì„±">network í´ë”ì— QuestionApi íŒŒì¼ ìƒì„±</h2>
<p>singletonìœ¼ë¡œ ë§Œë“¤ì–´ ì•±ì „ì²´ì—ì„œ ë¶ˆëŸ¬ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“ ë‹¤. ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ interfaceë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Singleton</span>
<span class="kd">interface</span> <span class="nc">QuestionApi</span> <span class="p">{</span>
    <span class="nd">@GET</span><span class="p">(</span><span class="s">"word.json"</span><span class="p">)</span>
    <span class="k">suspend</span> <span class="k">fun</span> <span class="nf">getAllQuestions</span><span class="p">():</span> <span class="nc">Question</span>
<span class="p">}</span>
</code></pre></div></div>
<p>interfaceì´ê¸° ë•Œë¬¸ì— ì‹¤ì œ ê¸°ëŠ¥ì€ êµ¬í˜„í•˜ì§€ ì•Šê³  ì–´ë–¤ê¸°ëŠ¥ì„ êµ¬í˜„í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ìŠ¤ì¼€ì¹˜ ì •ë„ë¥¼ í•œë‹¤ê³  ë³´ë©´ëœë‹¤.</p>

<h2 id="appmoduleíŒŒì¼ì—-provider-ì„¤ì •">AppModuleíŒŒì¼ì— provider ì„¤ì •</h2>
<p>ì•ì—ì„œ AppModuleì€ nestjsì—ì„œì˜ module ì—­í• ì´ë¼ê³  ì„¤ëª…ì„ í–ˆë‹¤. nestjsì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ providerë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì—ˆì§€ë§Œ androidì—ì„œëŠ” ì¡°ê¸ˆì€ ë” ë³µì¡í•œ ë°©ë²•ìœ¼ë¡œ ì„¤ì •ì„ í•´ì¤˜ì•¼ í•œë‹¤.</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Module</span>
<span class="nd">@InstallIn</span><span class="p">(</span><span class="nc">SingletonComponent</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
<span class="kd">object</span> <span class="nc">AppModule</span> <span class="p">{</span>
    <span class="nd">@Singleton</span>
    <span class="nd">@Provides</span>
    <span class="k">fun</span> <span class="nf">provideQuestionApi</span><span class="p">():</span> <span class="nc">QuestionApi</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nc">Retrofit</span><span class="p">.</span><span class="nc">Builder</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">baseUrl</span><span class="p">(</span><span class="nc">Constants</span><span class="p">.</span><span class="nc">BASE_URL</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">addConverterFactory</span><span class="p">(</span><span class="nc">GsonConverterFactory</span><span class="p">.</span><span class="nf">create</span><span class="p">())</span>
            <span class="p">.</span><span class="nf">build</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="nc">QuestionApi</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>ì„¤ì •í•´ì¤€ ë‚´ìš©ì„ ë³´ë©´ QuestionApiì— ëŒ€í•´ì„œ providerë¥¼ ì„¤ì •í•´ì£¼ê³  ìˆê³  Retrofitì„ Builderë¥¼ í†µí•´ êµ¬í˜„í•´ë†“ì•˜ë‹¤. êµ¬í˜„ë˜ëŠ” ê³µí†µë˜ëŠ” ë¶€ë¶„ì„ í•œë²ˆì— êµ¬í˜„í•´ì„œ AppModuleì— ë¶™ì—¬ì¤¬ë‹¤ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤. ì €ê¸°ì„œ BASE_URLì€ ì•ì„  ConstantíŒŒì¼ì—ì„œ ìƒì„±í•œ urlì´ê³  ì‹¤ì œ QuestionApiì— @GET(â€œword.jsonâ€) urlì„ ë¶™ì—¬ í•˜ë‚˜ì˜ urlë¡œ ì‚¬ìš©ëœë‹¤.</p>

<h2 id="repository-ìƒì„±">Repository ìƒì„±</h2>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">QuestionRepository</span> <span class="nd">@Inject</span> <span class="k">constructor</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">api</span><span class="p">:</span> <span class="nc">QuestionApi</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">dataOrException</span> <span class="p">=</span> <span class="nc">DataOrException</span><span class="p">&lt;</span><span class="nc">ArrayList</span><span class="p">&lt;</span><span class="nc">QuestionItem</span><span class="p">&gt;,</span> <span class="nc">Boolean</span><span class="p">,</span> <span class="nc">Exception</span><span class="p">&gt;()</span>

    <span class="k">suspend</span> <span class="k">fun</span> <span class="nf">getAllQuestions</span><span class="p">():</span> <span class="nc">DataOrException</span><span class="p">&lt;</span><span class="nc">ArrayList</span><span class="p">&lt;</span><span class="nc">QuestionItem</span><span class="p">&gt;,</span> <span class="nc">Boolean</span><span class="p">,</span> <span class="nc">Exception</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">dataOrException</span><span class="p">.</span><span class="n">loading</span> <span class="p">=</span> <span class="k">true</span>
            <span class="n">dataOrException</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">getAllQuestions</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dataOrException</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">toString</span><span class="p">().</span><span class="nf">isNotEmpty</span><span class="p">())</span> <span class="n">dataOrException</span><span class="p">.</span><span class="n">loading</span> <span class="p">=</span> <span class="k">false</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">exception</span><span class="p">:</span> <span class="nc">Exception</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">dataOrException</span><span class="p">.</span><span class="n">e</span> <span class="p">=</span> <span class="n">exception</span>
            <span class="nc">Log</span><span class="p">.</span><span class="nf">d</span><span class="p">(</span><span class="s">"Exc"</span><span class="p">,</span> <span class="s">"getAllQuestions: ${dataOrException.e!!.localizedMessage}"</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">dataOrException</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì‹¤ì œ serviceë¥¼ êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì´ë¼ê³  ë³´ë©´ëœë‹¤. ì´ë•Œ DataOrExceptionì´ë¼ëŠ” ë°ì´í„° íƒ€ì…ì´ ë³´ì´ëŠ”ë°, ì´ë¥¼ ì‚´í´ë³´ë©´,</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">data class</span> <span class="nc">DataOrException</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">,</span> <span class="nc">Boolean</span><span class="p">,</span> <span class="nc">E</span> <span class="p">:</span> <span class="nc">Exception</span><span class="p">&gt;(</span>
    <span class="kd">var</span> <span class="py">data</span><span class="p">:</span> <span class="nc">T</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
    <span class="kd">var</span> <span class="py">loading</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
    <span class="kd">var</span> <span class="py">e</span><span class="p">:</span> <span class="nc">E</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="p">)</span>
</code></pre></div></div>
<p>ì´ë ‡ê²Œ ë˜ì–´ìˆë‹¤. ì´ëŠ” api dataë¥¼ ë°›ì•„ì˜¬ë•Œ, data, loadingì—¬ë¶€, exceptionì„ í•œë²ˆì— ë°›ì•„ì˜¤ê¸° í¸í•˜ê²Œ classë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.
SwiftUIë¥¼ ê³µë¶€í•  ë•Œ network ì—°ê²°ì„ ìœ„í•´ ë‚˜ë„ ë§Œë“¤ì–´ ì‚¬ìš©í•´ë³¸ì ì´ ìˆë‹¤. í•­ìƒ ë˜‘ê°™ì€ í˜•ì‹ìœ¼ë¡œ apiê°€ ë‚ ë¼ì˜¤ê¸° ë•Œë¬¸ì— dataë¶€ë¶„ì€ dataì˜ êµ¬ì„±ì´ ë‹¬ë¼ì§ˆìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ Generic íƒ€ì…ìœ¼ë¡œ ì„¤ì •í•´ì£¼ê³  ë‚˜ë¨¸ì§€ëŠ” ë˜‘ê°™ê¸° ë•Œë¬¸ì— ê°™ì´ ì‚¬ìš©í•œë‹¤.</p>

<p>loading ì—¬ë¶€ê¹Œì§€ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ìƒê° ëª»í–ˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ì•„ì£¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©ê°€ëŠ¥í•  ê²ƒ ê°™ë‹¤.</p>

<p>QuestionRepositoryë¥¼ ë³´ë©´ @Inject constructor(private val api: QuestionApi) ë¥¼ í†µí•´ì„œ Singletonìœ¼ë¡œ ì„¤ì •ë˜ì–´ìˆëŠ” interface QuestionApië¥¼ ê°€ì§€ê³  ì™€ì„œ ì‚¬ìš©í•œë‹¤.</p>

<h2 id="appmoduleì—-repository-ì¶”ê°€">AppModuleì— repository ì¶”ê°€</h2>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Singleton</span>
<span class="nd">@Provides</span>
<span class="k">fun</span> <span class="nf">provideQuestionRepository</span><span class="p">(</span><span class="n">api</span><span class="p">:</span> <span class="nc">QuestionApi</span><span class="p">)</span> <span class="p">=</span> <span class="nc">QuestionRepository</span><span class="p">(</span><span class="n">api</span><span class="p">)</span>
</code></pre></div></div>
<p>AppModuleì— repositoryë¥¼ ë“±ë¡í•´ì¤€ë‹¤. apië¥¼ parameterë¡œ ë„£ì–´ì„œ moduleì— QuestionApië¥¼ ë“±ë¡í•´ì¤€ë‹¤. ì´ ì¼ë ¨ì˜ ê³¼ì •ë“¤ì€ backgroundì—ì„œ ì¼ì–´ë‚˜ë©° ìš°ë¦¬ëŠ” íŠ¹ë³„íˆ ì € functionë“¤ì„ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ ì•Œì•„ì„œ í˜¸ì¶œë˜ê²Œ ëœë‹¤.</p>

<h2 id="viewmodel-class-ë§Œë“¤ê¸°">ViewModel class ë§Œë“¤ê¸°</h2>
<p>ì‹¤ì œë¡œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. nestjsë¡œ ë”°ì§€ë©´ controllerê°™ì€ ëŠë‚Œ ëª¨ë“  ê¸°ëŠ¥ì„ ê´€ì¥í•˜ëŠ” ê³³ì´ë¼ê³  ìƒê°í•˜ë©´ëœë‹¤.</p>

<p>ì‹¤ì œ UIì™€ ì†Œí†µì„ í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@HiltViewModel</span>
<span class="kd">class</span> <span class="nc">QuestionViewModel</span> <span class="nd">@Inject</span> <span class="k">constructor</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">repository</span><span class="p">:</span> <span class="nc">QuestionRepository</span><span class="p">)</span> <span class="p">:</span>
    <span class="nc">ViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">data</span><span class="p">:</span> <span class="nc">MutableState</span><span class="p">&lt;</span><span class="nc">DataOrException</span><span class="p">&lt;</span><span class="nc">ArrayList</span><span class="p">&lt;</span><span class="nc">QuestionItem</span><span class="p">&gt;,</span> <span class="nc">Boolean</span><span class="p">,</span> <span class="nc">Exception</span><span class="p">&gt;&gt;</span> <span class="p">=</span>
        <span class="nf">mutableStateOf</span><span class="p">(</span><span class="nc">DataOrException</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="nc">Exception</span><span class="p">(</span><span class="s">""</span><span class="p">)))</span>

    <span class="nf">init</span> <span class="p">{</span>
        <span class="nf">getAllQuestions</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">getAllQuestions</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">viewModelScope</span><span class="p">.</span><span class="nf">launch</span> <span class="p">{</span>
            <span class="n">data</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">loading</span> <span class="p">=</span> <span class="k">true</span>
            <span class="n">data</span><span class="p">.</span><span class="n">value</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="nf">getAllQuestions</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="nf">toString</span><span class="p">().</span><span class="nf">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">data</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">loading</span> <span class="p">=</span> <span class="k">false</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ë©´ initì—ì„œ getAllQuestions() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨ìœ¼ë¡œì¨ ViewModel classê°€ ìƒì„±ë  ë•Œ ë°”ë¡œ ìˆ˜í–‰í•˜ê²Œ ë§Œë“ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<h2 id="mainactivity-êµ¬ì„±">MainActivity êµ¬ì„±</h2>

<p>ì´ì œ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ëŒì•„ê°€ëŠ”ì§€ MainActivity.kt íŒŒì¼ì„ ê¾¸ë©°ë³´ì.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@AndroidEntryPoint</span>
<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">ComponentActivity</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="nf">setContent</span> <span class="p">{</span>
            <span class="nc">JetTriviaTheme</span> <span class="p">{</span>
                <span class="c1">// A surface container using the 'background' color from the theme</span>
                <span class="nc">Surface</span><span class="p">(</span>
                    <span class="n">color</span> <span class="p">=</span> <span class="nc">MaterialTheme</span><span class="p">.</span><span class="n">colors</span><span class="p">.</span><span class="n">background</span>
                <span class="p">)</span> <span class="p">{</span>
                    <span class="nc">TriviaHome</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">TriviaHome</span><span class="p">(</span><span class="n">viewModel</span><span class="p">:</span> <span class="nc">QuestionViewModel</span> <span class="p">=</span> <span class="nf">hiltViewModel</span><span class="p">())</span> <span class="p">{</span>
    <span class="nc">Questions</span><span class="p">(</span><span class="n">viewModel</span><span class="p">)</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">Questions</span><span class="p">(</span><span class="n">viewModel</span><span class="p">:</span> <span class="nc">QuestionViewModel</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">questions</span> <span class="p">=</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">data</span><span class="o">?.</span><span class="nf">toMutableList</span><span class="p">()</span>
    <span class="nc">Log</span><span class="p">.</span><span class="nf">d</span><span class="p">(</span><span class="s">"SIZE"</span><span class="p">,</span> <span class="s">"Questions: ${questions?.size}"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ TriviaHome()ì— parameterë¡œ hiltViewModel()ì„ ë„£ì–´ì¤¬ëŠ”ë°, ì´ê±°ëŠ” ì›ë¦¬ë¥¼ ì†”ì§íˆ ì˜ ëª¨ë¥´ê² ë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë„£ì–´ì¤Œìœ¼ë¡œì¨, ì•ˆì—ìˆëŠ” Questionsì—ì„œ viewModelì„ êº¼ë‚´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<p>Logë¥¼ ì°ì–´ë³´ë©´, 
<img src="/img/android_JetTrivia#1/2.png" /></p>

<p>ì´ë ‡ê²Œ ë°˜í™˜ë˜ëŠ” dataì˜ lengthë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì´ëŠ” ì´ ì•ì—ì„œ ì‘ì—…í–ˆë˜ ë‚´ìš©ë“¤ì´ backgroundì—ì„œ ëŒì•„ê°€ë©° ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¨ ê²ƒì´ë¯€ë¡œ ìš°ë¦¬ê°€ ë³´ëŠ” UIì—ì„œëŠ” ì°¾ì•„ë³¼ ìˆ˜ ì—†ë‹¤.</p>

<h2 id="creating-the-ui">Creating the UI</h2>
<p>ì´ì œ ìš°ë¦¬ê°€ ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë“¤ì„ ì‹¤ì œ ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ìˆê²Œ UIë¡œ êµ¬ì„±í•´ë³´ì.</p>

<p>UI êµ¬ì„± ë° ê¸°ëŠ¥ êµ¬í˜„ì€ ì½”ë“œê°€ ë„ˆë¬´ ë³µì¡í•˜ê³  ê¸¸ì–´ì„œ ì•„ë˜ ë§í¬ì— ê±¸ì–´ë‘ë„ë¡ í•˜ê² ë‹¤.</p>

<p><a href="https://github.com/korea-seunghwan/JetTrivia_Android_Compose/tree/master">git code link</a></p>
:ET